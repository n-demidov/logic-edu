Игра
// "... совмещала сразу три функции: просветительскую, образовательную и развлекательную"
// если пойти искусством маленьких шагов и сначала найти и сделать то, что точно надо будет сделать


Планы:
- 46 левел не генерится(?);

- игрокам непонятно, что каждый раз новый уровень. Им кажется, что каждый раз начинаешь игру сначала;
- условия некоторых квестов описаны не полностью/не корректны;

- перенос первых 5 миссий в самое начало миссий;
  - табличку сделать как внизу;
- если плавно переходить от табл/кв к одной ложной фразе;

- если доб. расследование (динамический опрос свидетелей) - м.б. добавит экшена, действий, интереса, расследования;

- глянуть какой интерфейс в задачах Эйнштейна;
- посм. какие лог/игры есть в вк;

- тестировать на игроках;
- если еще и сделать оч. простые Короткие игры с простейшими табл.?;

- если ввести новый параметр: "минимум 2 ответа для nonTargetAnswers" или "не одного "+" для nonTarget";
  - но может ли быть такое, что из-за множества разных ответов это не приведет ни к чему хорошему?
  - гарантирует ли, что не будет 1 ответа для нецелевого?
  - гарантирует ли, что всегда будет outOfStatements для всех нецелевых?
  - гарантирует ли, что всегда будет прав-й ответ? И он будет в outOfStatements? И не будет прямого ответа? И игрок всегда таким образом поймет, что это означает, что прямого ответа нет?
  - а не получится ли так, что "-" будут тоже разниться при разных вариациях? 

Отзывы Александра:
- "решение задач ради решения задач - так себе"
- детективка всегда интересна сюжетом. Проходить такие игры ради "я умный" - навряд ли кто-то будет; 

- если под каждым м/кв сдедать ввод данных и автоматичесое обновление главной таблицы
- "без начальной автоматизации я игру не вижу" - Александр; 

- если добавить новое окно для заполнения м/кв:
  - листбоксы с данными;
- если добавить кнопку для автоматического переноса данных в гл/табл;

- продвижение:
  - поискать разные акслераторы/инкубаторы;
  - выложить бы в китайскую соц/сеть;

Мелочь:
- хостинг: в ya создать app и прикрутить app-ID;
- работа с прочим: рейтинг (за рандомные игры); статистика и т.п.;

Прочие шаги:
- прочитать что такое расследование;
- поднабирать идей с фильмов/статей как в жизни расследуются дела;
- пушнуть в битбакет;
- прорешать задачи по логике:
  - решить задачу #4: https://drive.google.com/file/d/0B74L651tsS6FTkpEUDhOVFF0Y28/edit?resourcekey=0-Vu33IUY73TKktmcBEGYkRA
    - к какому типу относиться задача?
  - №6 - другой тип задач
  - вышли новые задачи на ютуб-канале про лог/задачи;
  - решать задачи (на телефоне и пр.);
  - решить задачу Этелни Джонса;

== Передавать в генератор инфу о некоторых данных:
- если доб. параметр с доп. данными (как "+", так и "-");
  - тогда есть вероятность, что без этой инфы не получится найти ответ (будет нескл. ответов); позволяет выдать новую инфу (событиями или др.) или учесть ответы из др. м/квеста;
  - если ввести параметр на обяз-ю генерацию с нескл. ответами, если передается такой параметр;
- если в генераторе (для ускорения) проверять, что нет противоречий;

== Вариативность для отриц. м/кв:
- если доб. параметр, чтобы отдавать не более n "+";
  - тогда при n=0 "+" выдадутся одни "-"; при этом они будут не полные - не получится вывести "+";
  - получится ли этим заменить инвертированные м/кв?;
  - получится ли это сделать только по 1 субъекту (чтобы ограничить выдаваемую инфу)?;
- можно ли обойтись без "аллергии" - просто выдавая разные вариации м/кв?;
- выдача "аллергии" (если можно выдавать только "-", то "аллергию" можно оставить на будущий функционал);
- если смешать: отдавать "аллергию" вместе с обычными "+" (если можно выдавать только "-", то можно оставить на будущий функционал);

// Вариации м/кв:
  // Вариации сложных м/кв:
    // n вар-в ответа (не решается без доп. данных);
    // "хитрая" комбинация И/Л-суждений (решается само, но долго);
    // требуется еще нескл. раз делать предположения при решении (решается само, но долго);
    // нерешаемый в-прицнипе м/кв (всегда противоречащие ответы);
  // Вариации простых м/кв:
    // обычный квест с рандомным распределением T/F;
    // обычный квест, выдающий 1/2 "+";
  // если иногда при старте выдавать открытый большой м/кв с множественными вар-ми ответа (сам по себе нерешаем);
    // на ней можно проверять данные от импостера и Л-свидетелей;
    // импостер может вписать в нее ложные данные;
    // кв может выдать данные в случае подстановки всех ответов;
  // 1-n м/кв с нескл. вар-ми ответа для подстановки ответов;
  // если кто-то период-ки дает к-л данные/события. И в больш-ве случаев они не дают полезной информации;
  // вариативные отрицательные м/кв (описано отдельно);

== Мелочь:
- если доб. новую опцию в м/кв: чтобы не выводилось дважды "не пил А", "не пил А" - т.к. сразу ясен ответ;
  - можно вкл. эту опцию в миссиях после 10-го. И вообще в более сложных играх;
- MissionDescriptor -> обернуть все листы в иммьютебл списки. И саму мапу;
- валидация на входящий запрос - на номер миссий - от 1 и до последней из списка;
- написать валидатор, прогоняющий все миссии, дабы проверить, что создается не более n итераций;
- если давать ачивки за прохождение рандомных игр - и по кол-ву сыгранных и по уровню. Если за серии побед;
- не показывать модераторов в рейтинге;
- в правила доб, что свидетели могу давать лож/инфу. Не имеет значения по какой причине: по недопониманию, не так поняли/услышали, забыли, перепутали, показалось, личные симпатии, чтобы защитить кого-то или антипатии и т.п.;
- если часть валидаций (при генерации суждений) перенести на валидацию каждого нового стейтмента - то не ускорит ли это генерацию кв?
- если к-л образом подсвечивать вопрос (например, в вопросе писать: "Кто занимается плаванием?");

== Сделать позже:
- параметры (валидатора):
  - сделать бы параметр: будут ли пробелы в вычислениях (когда придется дважды делать предположения). Или это уже будет сделано за счет minAnswerInfers/maxAnswerInfers?;
- неплохо бы так логгировать игру (при обрат/связи), чтобы было видно сколько ответов и на каких вариациях И/Л суждений;
- доб. статистику на заходы юзера по дням;
- доб. статистика по тому какие игры играются;
- на клиенте при нажатии на кнопки - пишется ошибка;
- в GameCompositeInfo обернуть все в Immutable-коллекции;
- "противозависательный" механизм:
  - добавить учет статистики;
  - примечания: сейчас, если subquest не создан, то клиентам все равно отсылается обновление;
  - примечания: сейчас, если mission не создается, то у клиента продолжает висеть кнопка ожидания игры;
  - если не создан subquest, то игроку придется нажимать кнопку еще раз; обдумать актуальность механизма пересоздания;
- в AuthExecutor вернуть рандомную генерацию имен;

== Мысли по мультиплеерной игре:
- пусть для начала будет простая. На каком-нибудь простом сеттинге;
- сделать вариативность из рандома и действий игроков;
- достаточный рандом должен обеспечивать разные ситуации; пусть даже в 5% невозможно будет выиграть;
- достаточный выбор действий для игроков. Особенно для импостера;
- одна из фишек мультиплеерной игры: улики подгоняют другие игроки и неизвестно врут ли они;
- можно ли сделать, чтобы не нужно было врать?

== Как сделать реиграбельную интересную игру?
- мультиплеер;
- интересно играть на расслабоне, уставшим после работы;
- поискать идеи для PvP;
- получится ли создать такой же "вирусный подход", как и во Fruit's Bounty?;
  - здоровая норма рандома;
  - можно думать, но иногда рандомно сгенеренную ситуацию не победить;
  - оппонент сам представляет противника и генерирует препятствия;
- мысли про рандомную модель игры:
  - если и игрок более сильный и стартовый расклад выпал сильный; а более слабый игрок не думал вообще головой, но ему сильно подфортило в средней части игры и он выиграл... не увеличивает ли такое популярность?;
  - можно ли привнести такое в игру?

== Текст Ирландки:
"Если вы сделали игру, которая похожа на Шерлока Холмса...
Он собирает множество улик, чтобы вывести преступника и т.д.
Так что если бы была детект-я игра, в кот. нужно было бы найти улики и нескольких подозреваемых, и вы должны выяснить, кто это.
Это было бы весело...
... Мне нравятся игры, где я могу принимать решения.

... Вам нужно будет собрать воедино улики + показания свидетелей, чтобы вывести сцену преступления
У вас так много доказательств и так много возможных историй / подозреваемых / временных отрезков, с которыми нужно работать
Убийца - один человек или два? Насколько точны разрезы? Какое оружие они использовали? Как кровь забрызгала? Каковы намерения убийцы? Есть ли похожие тяжкие преступления? Это серийный убийца или это разовое убийство? Как убийца скрылся с места происшествия?
Сбор всех улик, возможно, основной метод в детективах. Но способ, которым вы находите улики - разный в каждой игре."

== К UI:
- если внизу панель управления (вкладки): "Заметки", "Чат", "Отзывы", "Новости", "Панель модератора";
- писать в чат можно, например, с 10 уровня;
- выводить сколько игроков онлайн и сколько ожидают в мультиплеер играх;
- научиться делать красивый скроллбар;

== На будущее расширение функционала (если игра будет успешной):
- ветки:
  - запрещать использ. к-л данных в м/кв (чтобы нельзя было вставить имеющуюся инфу в м/кв и решить);
  - если разраб. нескл. веток (путей прохождения гл/кв);
  - если по каким-то рандом. субъектам/объектам долго не выдавать ответы; или пусть всё это будет рандомно само собой, а при развитии игры - можно будет и усложнить функционал;
  - если сделать так, что допустим таблиц много, но какие-то и не нужно разгадывать, чтобы найти ответ. И не нужные - это тупиковые ветки; и еще бы давать подсказки для направления в нужные зацепки;
  - если на месте прест нескл улик и можно либо двумя независимыми путями прийти. Либо одним путем (потому что вторую улику никто не использовал; тупиковая ветка); или 1 тупиковая и 2 приводящих к решению;
  - для более сложных уровней: если ли сделать рандомное кол-во улик на месте прест-я и так, чтобы в конечном счете они (выборкой) однозначно указывали на нужного чел-ка? И это рандомно: кол-во улик на месте пр-я; кто чем занимается; и сколько людей делают к.-л. вещь;
  - если на месте прест-я оставили виски и клюшку от гольфа. И в гольф не играет половина. А другая половина играет. И т.о. мы сразу отсеиваем половину подозреваемых. И допустим мы не знаем сколько человек пили виски, а сколько играли в гольф;
  - если можно опросить отдельно о норвежце и его любви к чему-то... - однозначно ли это говорит о чем-то или нет;
  - если выдавать нерешаемые м/кв (бесполезный м/кв);
  - нужны ли вообще отрицательные м/кв?
    - разработать вариативность для отриц. м/кв (записано отдельно);
- попридумывать новые варианты организации квестов и расследования;
  - почитать как делают расследования, как собираются улики - в статьях и фильмах;
    - погуглить, что такое расследование в-принципе;
    - посм. детективные фильмы и понять с чего стартует поиск опрашиваемых и откуда находятся подозреваемые;
    - с чего начинается расследование: сначала поиск ближних лиц и они уже указывают на новых свидетелей?
- гл/кв:
  - позволять указывать в качестве субъектов те объекты, которые вообще "лишние";
  - также учесть ситуацию, когда субъектов может оказаться больше, чем объектов;
- импостер:
  - если импостер может нейтрализовывать свидетелей;
  - если импостеру видна часть данных (истинных ответов);
- валидатор:
  - в обычном м/кв: если два подряд утверждения неверны, то это и есть правильный ответ (для неинверт.). Такое можно не допускать на сложных левелах. Или оставить пока на рандом?;
  - работа с несвязанными группами;
  - работа со связанными группами;
    - при проставл. транз данных - сразу падать при наличии противоречий;
    - доб. валид., что нет противоречий между всеми табл.;
- реализовать "subjects > objects";
- можно обдумать, чтобы в валидаторе вести учет resultInfo.sharedMinAnswerInfers для каждого объекта. М.б. и нужно для сложных м/кв с нескл. nAnswers;
- если убрать вопросы для более сложных квестов?
- если импостер может нейтрализ-ть игрока 0-2 раза: рандомно (промах-ся, n раундов, тер. энергию, спалился др. игроку);
- если перки выдаются, рандомно;
- всякие жетоны; значки усталости;
- турниры:
  - принимать много параметров-ответов - можно прорешать на разную глибину;
  - если генерить один оч/большой сложный м/кв с нескл. n-rightAnswers и n-trueStatements;
  - если генерить набор составной/кв;
  - каждый раз рандомно для игрока - чтобы его нельзя было прорешать с др. аккаунтов;

== На потом (если будет желание):
- ускорить NumAnswersValidator: заменить на итераторы (если они быстрее); заменить хэшмапы на Int2Int;
- можно оптимизировать генерацию м/кв. Например, сгенерить все комбинации T/F; выбрать из них случайную; расставить всё в соответсвии с этой комбинацией;
- можно возвращать мапу ответов (из валидатора) и проверять ее в тестах (они ускорятся);
- (на будущее) табл/кв 6*6, сложность=4 долго создается;
- (на будущее) стоит ли убирать не нужные суждения из табл/кв?:
  - возможно, что не нужно ни для миссий, ни для составных игр; но м.б. сделает более красивым текст;
  - (м.б. не надо) удалять все "-" на одной линии с "+";
  - (м.б. не надо) перебрать все стейтменты: если после его удаления ответ находится - удалить этот стейтмент;
- перевести сеты в MiniquestGeneratorInfo на листы; subjectsRangeIdxs перевести в листы;
- если в гл/кв сформировать более красивую надпись. И вынести ее в примечание: "Каждая из девушек занимается ровно 1 видом иск-в, играет ровно в 1... и т.п.";
- завалидировать параметры для Globalquest и Subquest;
- не будет ли слишком медленно работать генерация? - из-за того, что все ответы гл/кв должны четко попасть в ответы?;
- логгировать еще и ИЛ-комбинации;
- extract feedback to async thread-pool;

== На тестировании:
- протестировать на ближнем круге, что не надо предупреждать, о том, что в этом м/кв возможны нескл. ответов. т.к. итак понятно, что надо все вар-ты решения проверить, чтобы убедиться, что ответ м.б. только один;


== План миссий и составных игр:
// сделать прямо плацдарм для школьников; и плацдарм для уставших после работы людей, хотящих расслабиться; ну и для более интел-лов можно;

- для создания более легких миссий можно использовать:
  - minAnswerInfers/maxAnswerInfers - создаст более простые м/кв для начальных уровней;
  - NonTargetAnswers выставить в ONLY_ONE_ANSWER_EACH;

// вариации по кол-ву истинных и ложных фраз в 1-Subject:
  // 1 И-суждение в простом м/кв;
  // n И-суждений в простом м/кв;
// вариации по кол-ву истинных и ложных фраз:
  // ИИ/ИИ/ЛЛ;
  // И/Л в каждом высказывании;
  // ИИ/ЛЛ/ИЛ;
  // пр. специф.;

* интровертные фразы(?);
** подставл. готовые известные данные в кв;
  - кстати, тут можно брать данные из готовых сгенеренных ответов;

План миссий:
--- плацдарм для школьников
+ простейшие с 1 субъектом; // 10 шт. // 10
+ табл-1, простые; // 5 шт. // 15

--- плацдарм для уставших после работы людей, хотящих расслабиться
+ инвертированные м/кв; // 5шт. // 20
+ 1 субъект, но нескл. И-суждений; // 5шт. // 25
+ 1 субъект, nStatementsInSentence, простейшие; // 10 шт. // 35
+ n субъектов, nStatementsInSentence, простейшие; // 10 шт. // 45

--- средние:
+ табл-1, средние; // 3 шт. // 48
+ табл/кв с транзитивными зависимостями (замокать); // 3 шт. // 51
- 1 субъект, nStatementsInSentence, средние;
- n субъектов, nStatementsInSentence, средние;

--- сложные:
- решаются долго;
- нужно делать "подветки" прямо внутри веток;
- нестандартные вариации сочетний ИЛ-суждений; TTF FFT
- к 1 субъекту, но по разным параметрам (напр., сигареты и алко);
- связанные и не связанные группы; (тот, кто пил виски сопоставить с норвежцем);

План быстрых игр:
+ 1 субъект;  // с 10 уровня
- табл-1;     // с 15 уровня
- нескл. субъектов, простые;
- нескл. субъектов, средние;
- нескл. субъектов, сложные;


== Прикидка по времени:
- создание сценариев миссий (5 недель);

- согласование дизайна с дизайнерами (4 недели);
- натягивание дизайна (4 недели);
- правки по дизайну (4 недели);

- переписать на HTTP-сервер: анализ + реализация (2+2 недели);
- создание клиента под андроид... (?);



== Дизайнерам:
- игра должна быть очень красивой в первую очередь, т.к. описание никто читать не будет, а листая по списку из миллионов игр, человек в первую очередь видит иконку и, если она не цепляет, то пиши пропало, а потом на скриншоты, если они не очень, то тоже не будет скачиваний, а читать описание будут только единицы и даже они предпочитают что-то красивое
- иконки ( с текстом альфа,бета и пр)
- окно с событием: разблокирована новая такая-то игра.
- игрокам должно хотеться возвращаться;
- вар-т: позитивная графика;

== Вар-ты сценариев:
- в шутливо-пародийном стиле;
- просто с хорошим юмором;
- для миссий нужны как сценарии (для тех, кому важен сюжет); но чтобы можно было его и не читать (для тех, кто не любит);
- сеттинги: карнавал в Венеции; корабль на Ниле; замок в Англии; бал во Франции;


// http://kellih225.blogspot.com/p/5.html
// Толян, БД: поражения=23, миссии=45, очки=1035, победы=48

